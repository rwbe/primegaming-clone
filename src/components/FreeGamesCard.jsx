import  { useState } from 'react';
import PropTypes from 'prop-types';
import { FaCheckCircle } from 'react-icons/fa';

const FreeGamesCard = ({ img, gameName, title }) => {
  const [collected, setCollected] = useState(false);

  const handleResgate = () => {
    // Adicione aqui a lógica de resgate se necessário
    setCollected(true);
  };

  return (
    <div className='mb-[18px] max-md:min-h-[220px] min-h-[289px] bg-card rounded-md overflow-hidden relative'>
      <div className='absolute top-0 left-0 transform -translate-y-1 z-10'>
        <span className='inline-block text-white text-center text-[12px] font-bold px-3 py-1 bg-badge rounded-tl-md rounded-t-lg rounded-br-xl -ml-1'>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="#000000"
            width="33px"
            height="18px"
            viewBox="0 0 149 55"
            className="inline-block"
          >
            <path d="M14.573 37.109c2.122 0 3.686-.72 4.691-2.16 1.004-1.44 1.507-3.715 1.507-6.823 0-3.145-.493-5.438-1.479-6.879-.986-1.44-2.558-2.16-4.719-2.16-1.97 0-3.829.511-5.571 1.535v14.952c1.667 1.023 3.525 1.535 5.571 1.535zm-12.45 17.34c-.493 0-.853-.105-1.081-.313-.226-.208-.341-.579-.341-1.109v-37.92c0-.531.115-.899.341-1.108.228-.208.588-.313 1.081-.313h4.093c.872 0 1.402.417 1.592 1.25l.398 1.478c1.137-1.098 2.51-1.97 4.121-2.614a13.148 13.148 0 014.918-.967c3.676 0 6.585 1.345 8.727 4.037 2.142 2.691 3.213 6.33 3.213 10.915 0 3.146-.531 5.894-1.592 8.244-1.061 2.351-2.502 4.16-4.321 5.429-1.82 1.27-3.905 1.905-6.254 1.905-1.555 0-3.032-.247-4.435-.739-1.402-.493-2.595-1.175-3.581-2.047v12.45c0 .53-.105.901-.312 1.109-.209.208-.579.313-1.11.313H2.123zm34.049-11.712c-.493 0-.853-.113-1.081-.341-.227-.228-.341-.587-.341-1.08V15.107c0-.531.114-.899.341-1.108.227-.208.588-.313 1.081-.313h4.093c.872 0 1.402.417 1.592 1.25l.739 3.07c1.516-1.667 2.946-2.851 4.292-3.552a9.16 9.16 0 014.293-1.052h.796c.53 0 .909.104 1.136.312.228.208.341.579.341 1.109v4.775c0 .494-.104.853-.312 1.08-.209.228-.578.342-1.109.342-.265 0-.606-.019-1.023-.057a18.554 18.554 0 00-1.592-.057c-.872 0-1.932.124-3.183.37s-2.313.559-3.184.937v19.103c0 .493-.105.852-.312 1.08-.209.228-.58.341-1.11.341h-5.457m22.717 0c-.492 0-.853-.113-1.08-.341-.228-.228-.341-.587-.341-1.08V15.107c0-.531.113-.899.341-1.108.227-.208.588-.313 1.08-.313h5.458c.53 0 .9.105 1.108.313.208.209.314.577.314 1.108v26.209c0 .493-.106.852-.314 1.08-.208.228-.578.341-1.108.341h-5.458zm2.729-33.542c-1.441 0-2.596-.398-3.467-1.194-.873-.796-1.308-1.876-1.308-3.241 0-1.365.435-2.445 1.308-3.241.871-.796 2.026-1.193 3.467-1.193 1.44 0 2.596.397 3.468 1.193.871.796 1.308 1.876 1.308 3.241 0 1.365-.437 2.445-1.308 3.241-.872.796-2.028 1.194-3.468 1.194zm12.611 33.542c-.494 0-.854-.113-1.081-.341-.227-.228-.341-.587-.341-1.08V15.107c0-.531.114-.899.341-1.108.227-.208.587-.313 1.081-.313h4.093c.872 0 1.402.417 1.591 1.25l.455 1.535c2.009-1.326 3.819-2.263 5.43-2.813 1.61-.55 3.269-.825 4.975-.825 3.411 0 5.817 1.214 7.219 3.638 1.933-1.288 3.752-2.216 5.458-2.785a16.596 16.596 0 015.288-.853c2.652 0 4.708.739 6.167 2.218 1.459 1.477 2.19 3.543 2.19 6.196v20.069c0 .493-.106.852-.313 1.08-.209.228-.579.341-1.109.341h-5.457c-.493 0-.853-.113-1.08-.341-.228-.228-.342-.587-.342-1.08v-18.25c0-2.577-1.156-3.865-3.468-3.865-2.047 0-4.113.492-6.197 1.477v20.638c0 .493-.104.852-.312 1.08-.209.228-.578.341-1.109.341H92.25c-.493 0-.852-.113-1.08-.341-.227-.228-.341-.587-.341-1.08v-18.25c0-2.577-1.157-3.865-3.467-3.865-2.123 0-4.207.512-6.254 1.534v20.581c0 .493-.106.852-.313 1.08-.209.228-.579.341-1.109.341h-5.457m60.717-16.998c1.932 0 3.334-.294 4.207-.882.871-.587 1.307-1.487 1.307-2.7 0-2.388-1.421-3.582-4.264-3.582-3.638 0-5.742 2.237-6.31 6.709 1.516.304 3.202.455 5.06.455zm1.875 17.85c-4.7 0-8.309-1.287-10.83-3.865-2.521-2.577-3.78-6.272-3.78-11.086 0-4.926 1.287-8.793 3.865-11.599 2.578-2.803 6.16-4.206 10.745-4.206 3.526 0 6.283.853 8.273 2.558 1.989 1.706 2.984 3.98 2.984 6.822 0 2.843-1.071 4.995-3.212 6.454-2.141 1.459-5.296 2.188-9.465 2.188-2.161 0-4.038-.208-5.629-.625.227 2.539.995 4.358 2.302 5.457 1.308 1.101 3.289 1.65 5.942 1.65 1.06 0 2.094-.067 3.098-.199 1.003-.133 2.397-.428 4.178-.882a2.248 2.248 0 01.626-.114c.644 0 .966.437.966 1.308v2.615c0 .607-.085 1.033-.255 1.279-.171.248-.503.465-.995.653-2.768 1.062-5.705 1.592-8.813 1.592z"></path>
          </svg>
        </span>
      </div>

      <div className='w-full min-h-[143px] overflow-hidden'>
        <img src={img} alt="" className='w-full h-full object-cover hover:scale-105 transition-all' />
      </div>

      <div className='flex items-start justify-center flex-col p-6 pt-4 max-md:h-14'>
        <div>
          <h1 className='text-gameName font-semibold max-md:text-sm text-[14px] max-md:h-[30px] flex items-center hover:underline cursor-pointer'>
            {gameName}
          </h1>
          <h1 className='text-white font-bold max-md:text-base text-base max-md:h-[47px] h-[35px] flex flex-col' style={{ letterSpacing: '-0.5px', lineHeight: '1.2' }}>
            {title}
          </h1>
        </div>

        {collected && (
          <div className='flex items-center mt-2'>
            <FaCheckCircle className='text-green-500 mr-2' />
            <span className='text-green-500'>Coletado</span>
          </div>
        )}

        {!collected && (
          <button
            onClick={handleResgate}
            className='text-txtPrimeBlue text-sm min-h-[38px] max-md:mb-2 mt-2 font-medium px-3 py-[3px] rounded-md flex items-center justify-center bg-primeBlue hover:bg-primeBlueHover'>
            Resgatar
          </button>
        )}
      </div>
    </div>
  );
};

FreeGamesCard.propTypes = {
  img: PropTypes.string.isRequired,
  gameName: PropTypes.string.isRequired,
  title: PropTypes.string.isRequired,
};

export default FreeGamesCard;
